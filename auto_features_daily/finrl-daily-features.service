# ========================================
# ğŸ”Œ Systemd Service - FinRL æ¯æ—¥æ•°æ®æ›´æ–°å¤–æŒ‚
# ç”¨é€”: é…åˆ Timer å®ç°å®šæ—¶ä»»åŠ¡ï¼ˆæ¯” cron æ›´å¯é ï¼‰
# 
# å®‰è£…æ­¥éª¤:
#   1. sudo cp finrl-daily-features.service /etc/systemd/system/
#   2. sudo cp finrl-daily-features.timer /etc/systemd/system/
#   3. sudo systemctl daemon-reload
#   4. sudo systemctl enable finrl-daily-features.timer
#   5. sudo systemctl start finrl-daily-features.timer
#
# æŸ¥çœ‹çŠ¶æ€:
#   systemctl status finrl-daily-features.timer
#   systemctl list-timers
#   journalctl -u finrl-daily-features.service
# ========================================

[Unit]
Description=FinRL Daily Features Update Plugin
After=network-online.target
Wants=network-online.target

[Service]
Type=oneshot
User=root
WorkingDirectory=/root/FinRL_bn
Environment="PATH=/root/miniconda3/envs/finrl_ml_env/bin:/usr/local/bin:/usr/bin:/bin"
ExecStart=/root/miniconda3/envs/finrl_ml_env/bin/python /root/FinRL_bn/features_engineering/auto_features_daily/run_daily_features.py --force
StandardOutput=append:/root/FinRL_bn/logs/auto_features_daily/systemd.log
StandardError=append:/root/FinRL_bn/logs/auto_features_daily/systemd_error.log

# è¶…æ—¶è®¾ç½®ï¼ˆæ•°æ®ä¸‹è½½å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼‰
TimeoutStartSec=3600

# å¤±è´¥é‡è¯•
Restart=on-failure
RestartSec=300

[Install]
WantedBy=multi-user.target
